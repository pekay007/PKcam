var Slardar=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function _(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}function h(e){return"object"===t(e)&&null!==e&&!v(e)}function d(e){return"function"==typeof e}function f(e){return"[object String]"===Object.prototype.toString.call(e)}function v(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e){return"number"==typeof e}function i(){if("fetch"in window)try{return new Headers,new Request(""),new Response,1}catch(e){return}}function a(){return!!h(window)}function o(){return!(!a()||!h(window.performance))}function p(){return!(!o()||!h(window.performance.timing))}function s(){return!(!o()||!d(window.performance.getEntries))}function u(){return a()&&"function"==typeof window.MutationObserver}function g(){return a()&&"function"==typeof window.PerformanceObserver}function y(){return g()&&d(window.PerformanceLongTaskTiming)}function w(){return g()&&d(window.PerformanceResourceTiming)}function S(){if(g()){var e=window.PerformanceObserverEntryList;return d(e)&&d(e.prototype.getEntries)}}Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),i=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(t=arguments[1]),n=0;n<i;){var o=void 0;n in r&&(o=r[n],e.call(t,o,n,r)),n++}}),function(){if(!(window.URL&&window.URL.prototype&&"href"in window.URL.prototype)){e.prototype={toString:function(){return this.href},get href(){return this._anchorElement.href},set href(e){this._anchorElement.href=e},get protocol(){return this._anchorElement.protocol},set protocol(e){this._anchorElement.protocol=e},get host(){return this._anchorElement.host},set host(e){this._anchorElement.host=e},get hostname(){return this._anchorElement.hostname},set hostname(e){this._anchorElement.hostname=e},get port(){return this._anchorElement.port},set port(e){this._anchorElement.port=e},get pathname(){return this._anchorElement.pathname},set pathname(e){this._anchorElement.pathname=e},get search(){return this._anchorElement.search},set search(e){this._anchorElement.search=e},get hash(){return this._anchorElement.hash},set hash(e){this._anchorElement.hash=e}};var t=window.URL||window.webkitURL||window.mozURL;e.createObjectURL=function(e){return t.createObjectURL.apply(t,[e])},e.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,[e])},Object.defineProperty(e.prototype,"toString",{enumerable:!1}),window.URL=e}function e(e,t){if(!e)throw new TypeError("Invalid argument");var n=document.implementation.createHTMLDocument("");if(t){var r=n.createElement("base");r.href=t,n.head.appendChild(r)}var i=n.createElement("a");if(i.href=e,n.body.appendChild(i),":"===i.protocol||!/:/.test(i.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:i})}}(),function(){if(!Element.prototype.addEventListener){var a=[],e=function(e,t){function n(e){e.target=e.srcElement,e.currentTarget=r,void 0!==t.handleEvent?t.handleEvent(e):t.call(r,e)}var r=this;if("DOMContentLoaded"===e){var i=function(e){"complete"===document.readyState&&n(e)};if(document.attachEvent("onreadystatechange",i),a.push({object:this,type:e,listener:t,wrapper:i}),"complete"===document.readyState){var o=new Event;o.srcElement=window,i(o)}}else this.attachEvent("on"+e,n),a.push({object:this,type:e,listener:t,wrapper:n})},t=function(e,t){for(var n=0;n<a.length;){var r=a[n];if(r.object===this&&r.type===e&&r.listener===t){"DOMContentLoaded"===e?this.detachEvent("onreadystatechange",r.wrapper):this.detachEvent("on"+e,r.wrapper),a.splice(n,1);break}++n}};Element.prototype.addEventListener=e,Element.prototype.removeEventListener=t,HTMLDocument&&!HTMLDocument.prototype.addEventListener&&(HTMLDocument.prototype.addEventListener=e,HTMLDocument.prototype.removeEventListener=t),Window&&!Window.prototype.addEventListener&&(Window.prototype.addEventListener=e,Window.prototype.removeEventListener=t)}}();var e=(b.prototype._send=function(e){},b.prototype.setupTransport=function(e){var t=this;this._transport=e,this._sendQueue.forEach(function(e){t._sendEvent(e)}),this._sendQueue=[]},b);function b(e){var n=this;this._setupMonitors=function(e){return e.forEach(function(e){e.setup(n._sendEvent)}),e},this._sendEvent=function(e){if(n._transport){var t=n._modifyEvent(e);n._shouldSend(t)&&n._idleSendEvent(t)}else n._sendQueue.push(e)},this._modifyEvent=function(e){return e},this._shouldSend=function(e){return!0},this._getIdle=function(){return d(window.requestIdleCallback)?window.requestIdleCallback:d(setTimeout)?setTimeout:function(e){e()}},this._idleSendEvent=function(e){n._getIdle()(function(){n._send(e)})},this._options=e,this._sendQueue=[],this._monitors=this._setupMonitors(e.defaultMonitors||[])}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function M(e,t){var n,r;if(void 0===e.length)for(n in e)k(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function T(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0;r<e.length;)n=E(n,e[r]),r++;return n}function E(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&void 0!==t[n]&&(h(e[n])&&h(t[n])?E(e[n],t[n]):!h(e[n])&&h(t[n])?e[n]=E({},t[n]):e[n]=t[n]);return e}function L(e,t){if(v(e)&&0!==e.length)for(var n=0;n<e.length;){if(e[n]===t)return 1;n++}}function P(e){var n,t=function(e){if(!h(e))return{};var n={};return M(e,function(e,t){h(t)||v(t)?n[e]=JSON.stringify(t):n[e]=t}),n}(e),r=(n={},M(t,function(e,t){n[encodeURIComponent(e)]=encodeURIComponent(t)}),n),i=[];return M(r,function(e,t){i.push(e+"="+t)}),i.join("&")}function C(e){var t=document.createElement("a");t.href=e;var n=t.pathname||"/";return"/"!==n[0]&&(n="/"+n),{href:t.href,protocol:t.protocol.slice(0,-1),hostname:t.hostname,host:t.host,pathname:n,hash:t.hash}}function x(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function R(e){return d(e)?e:x}function H(e){"complete"!==document.readyState?window.addEventListener("load",function(){setTimeout(function(){e()},0)},!1):e()}function I(e){if(!e)return"";if(!d(e.forEach))return"";var t=[];return e.forEach(function(e){t.push(e[0]+": "+e[1])}),t.join("\r\n")}function q(e){var t={},n=C(e);return t.ax_protocol=n.protocol,t.ax_domain=n.hostname,t.ax_path=n.pathname,t.ax_url=n.href||e,t}function j(e){return v(e)&&e.length?function(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e[r];f(i)?t.push(i.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):i&&i.source&&t.push(i.source)}return new RegExp(t.join("|"),"i")}(e):null}function O(){var e=function(){for(var e=new Array(16),t=0,n=void 0;t<16;t++)0==(3&t)&&(n=4294967296*Math.random()),e[t]=n>>>((3&t)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}(e)}var A=["/log/sentry/"],F="i.snssdk.com",D="SLARDAR_WEB_ID",U=O(),J=O(),z=(N.prototype.postEvent=function(e){var t=l(l({},e),this._getCommonParams());N.post(this._url,t)},N.prototype.getEvent=function(e){var t=P(l(l({},e),this._getCommonParams())),n=this._url+"?"+t;N.get(n)},N.post=function(e,t,n){var r=n?R(n.success):x,i=n?R(n.fail):x,o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(t)),o.onload=function(){try{if(this.responseText){var e=JSON.parse(this.responseText);r(e)}else r()}catch(e){i()}},o.onerror=function(){i()},o.onabort=function(){i()}},N.get=function(e,t){var n=t?R(t.success):x,r=t?R(t.fail):x,i=new XMLHttpRequest;i.open("GET",e),i.send(),i.onload=function(){try{if(this.responseText){var e=JSON.parse(this.responseText);n(e)}else n()}catch(e){r()}},i.onerror=function(){r()},i.onabort=function(){r()}},N.prototype._getUrl=function(){return"https://"+(this._options.reportDomain||F)+"/log/sentry/v2/api/slardar/main/"},N.prototype._getCommonParams=function(){return{timestamp:Date.now()}},N);function N(e){this._options=e||{},this._url=this._getUrl()}function B(){return d(Date)?Math.round(Date.now()/1e3):0}function X(e,n){if(!h(e))return{};if(!d(n))return{};var r={};return M(e,function(e,t){n(t)&&(r[e]=t)}),r}function W(e){var t,n,r,i,o,a,s=null;return h(e)&&("timer"===e.type&&(s=h(t=e.event)&&f(t.name)&&c(t.value)?{metrics_type:"timer",event_name:"default",metrics:((n={})[t.name]=t.value,n),category:X(t.tags,f),timestamp:B()}:{}),"counter"===e.type&&(s=h(r=e.event)&&f(r.name)&&c(r.value)?{metrics_type:"counter",event_name:"default",metrics:((i={})[r.name]=r.value,i),category:X(r.tags,f),timestamp:B()}:{}),"log"===e.type&&(s=h(o=e.event)&&f(o.value)?{metrics_type:"log",event_name:"default",log_content:o.value,log_level:o.level||"info",category:X(o.tags,f),timestamp:B()}:{}),"custom"===e.type&&(s=h(a=e.event)&&f(a.event_name)?{metrics_type:"custom",event_name:a.event_name,metrics:X(a.metrics,c),category:X(a.tags,f),timestamp:B()}:{})),s}var V,K,Q,G=(n(K=Y,Q=V=e),K.prototype=null===Q?Object.create(Q):($.prototype=Q.prototype,new $),Y.prototype.setupTransport=function(){var e=new z({reportDomain:this._options.commonParams.report_domain});V.prototype.setupTransport.call(this,e)},Y.prototype._send=function(e){var t=e.event||{};t=l(l({},t),this._normalizeCommonParams(this._options.commonParams||{})),this._options.custom&&d(this._options.custom.beforeSend)&&!(t=this._options.custom.beforeSend(t))||("get"!==e.type?"post"===e.type&&this._transport.postEvent(t):this._transport.getEvent(t))},Y.prototype._sendPageview=function(){d(this._sendEvent)&&this._sendEvent({name:"PageView",type:"get",event:{ev_type:"pageview"}})},Y.prototype.emitEvent=function(e){var t=W(e);this._emitSingleEvent(t)},Y);function $(){this.constructor=K}function Y(){var u=null!==V&&V.apply(this,arguments)||this;return u.sendEvent=function(e){d(u._sendEvent)&&u._sendEvent(e)},u._shouldSend=function(e){var t=e.name,n=e.event;if(!e.event)return!1;if("AjaxMonitor"===t||"FetchMonitor"===t){var r=j(A);if(r&&r.test(n.ax_url))return!1;var i,o=u._options.monitors.AjaxMonitor.whitelistUrls;if(v(o)&&0<o.length){var a=j(u._options.monitors.AjaxMonitor.whitelistUrls||[]);return a&&a.test(n.ax_url)?!0:!1}if((i=j(u._options.monitors.AjaxMonitor.ignore||[]))&&i.test(n.ax_url))return!1;if(!u._options.monitors.AjaxMonitor.hookFetch)return!1}if("StaticErrorMonitor"===t&&((i=j(u._options.monitors.StaticErrorMonitor.ignore||[]))&&i.test(n.st_src)))return!1;if("PathMonitor"!==t)return"HijackMonitor"!==t||Math.random()<u._options.monitors.HijackMonitor.sampleRate;var s=u._options.plugins;return!!(s&&s.spa&&s.spa.enable&&n.type===s.spa.type)},u._modifyEvent=function(e){var t=e.name,n=e.type,r=e.event,i=l({},r);if("PerformanceMonitor"!==t)return"PathMonitor"===t?(u._options.plugins.spa.enable&&u._options.plugins.spa.type===i.type&&(u.updateConfig({commonParams:{pid:i.path}}),delete i.type,delete i.path),{}):e;var o=u._options.monitors.PerformanceMonitor;if(!p())return{};var a=window.performance.timing,s=a.loadEventEnd-a.navigationStart>o.slowSessionTime;if(i.resources&&v(i.resources)){var c=j(u._options.monitors.PerformanceMonitor.geckoUrls||[]);M(i.resources,function(e,t){h(i.resources[e])&&d(i.resources[e].toJSON)&&(i.resources[e]=i.resources[e].toJSON(),i.resources[e].is_gecko=c&&c.test(t.name||"")?"1":"0")})}return Math.random()<o.resourceSampleRate?i=l(l({},i),{upload_reason:"sample",resource_samplerate:u._options.monitors.PerformanceMonitor.resourceSampleRate}):s?i=l(l({},i),{upload_reason:"slow_session"}):delete i.resources,{name:t,type:n,event:i}},u._normalizeOptions=function(e){return T({},u._options,e)},u._normalizeCommonParams=function(e){var t=l({},e);return h(e.context)&&(t.context=JSON.stringify(e.context)),t||{}},u.updateConfig=function(e){var t=u._options.commonParams.pid;u._options=u._normalizeOptions(e),e.commonParams.pid!==t&&u._sendPageview()},u.sendPageview=function(){u._sendPageview()},u.sendCustomTimeLog=function(e,t,n){!function(e,t){var n=e.name,r=e.tag,i=e.value;if(n){var o={ev_type:"custom",cm_name:n,cm_type:"time",cm_value:+i};r&&(o.cm_tag=r),t({name:"SentCustomTime",type:"get",event:o})}}({name:e,tag:t,value:n},u._sendEvent)},u.sendCustomCountLog=function(e,t){!function(e,t){var n=e.name,r=e.tag;if(n){var i={ev_type:"custom",cm_name:n,cm_type:"count"};r&&(i.cm_tag=r),t({name:"SentCustomCount",type:"get",event:i})}}({name:e,tag:t},u._sendEvent)},u._emitSingleEvent=function(e){e&&(e&&!e.event_name||d(u._sendEvent)&&u._sendEvent({name:"Emit",type:"post",event:{ev_type:"flexible",flexible_data_list:[e]}}))},u}var Z=function(){var o=this;this.name="StaticErrorMonitor",this.setup=function(e){a()&&(o._callback=e,window.addEventListener("error",o.staticErrorLog,!0))},this._getParams=function(e,t){var n={ev_type:"static",st_type:t},r=C(e);return n.st_src=e,n.st_protocol=r.protocol,n.st_domain=r.hostname,n.st_path=r.pathname,n},this.getSrc=function(e){return e&&d(e.getAttribute)?e.getAttribute("src"):e.src||e.href||""},this.staticErrorLog=function(e){var t,n=e||window.event||{};try{t=n.target||n.srcElement||{}}catch(n){return}var r=o.getSrc(t),i=t.tagName&&t.tagName.toLowerCase()||"";r&&i&&r!==window.location.href&&d(o._callback)&&o._callback({name:o.name,type:"get",event:o._getParams(r,i)})}},ee=(te.prototype.setup=function(e){d(XMLHttpRequest)&&(this._callback=e,this._start())},te.prototype._hookXMLHttpRequestOnreadystatechange=function(r){var i=this.onreadystatechange,o=this;this.onreadystatechange=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(4===this.readyState){var n={ev_type:"ajax",ax_status:this.status,ax_type:o._method,ax_request_header:I(o._requestHeaders||[])};n.ax_duration=Date.now()-o._start,200===this.status&&(n.ax_size=function(e){var t=0;if(""===e.responseType||"text"===e.responseType)t=ne(e.responseText);else if(e.response)t=ne(e.response);else try{t=ne(e.responseText)}catch(e){t=0}return t}(this)),"function"==typeof this.getAllResponseHeaders&&(n.ax_response_header=this.getAllResponseHeaders()),n=l(l({},n),q(o._url)),d(r._callback)&&r._callback({name:r.name,type:"get",event:n})}if(i)return i.apply(this,e)}},te);function te(){var e=this;this.name="AjaxMonitor",this._start=function(){e._hookXMLHttpRequestOpen(),e._hookXMLHttpRequestSend(),e._hookXMLHttpRequestSetRequestHeader()},this._hookXMLHttpRequestSetRequestHeader=function(){var n=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.setRequestHeader=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._requestHeaders=this._requestHeaders||[],this._requestHeaders.push(e),n.apply(this,e)}},this._hookXMLHttpRequestOpen=function(){var i=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];return this._url=r&&r.split("?")[0]||"",this._method=n&&n.toLowerCase()||"",i.apply(this,e)}},this._hookXMLHttpRequestSend=function(){var n=e,r=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n._hookXMLHttpRequestOnreadystatechange.call(this,n),this._start=Date.now(),r.apply(this,e)}}}function ne(e){var t="[object String]"===Object.prototype.toString.call(e);return e?t?e.length:ArrayBuffer&&e instanceof ArrayBuffer?e.byteLength:window.Blob&&e instanceof Blob?e.size:e.length?e.length:0:0}var re=function(){var c=this;this.name="FetchMonitor",this.setup=function(e){i()&&(c._callback=e,c._start())},this._start=function(){i()&&c._hookFetch()},this._hookFetch=function(){var a=c,s=window.fetch;window.fetch=function(t,n){n=n||{};var r=Date.now(),i={ev_type:"ajax"},e=c._getFetchUrl(t),o=c._getFetchMethod(t);return i.ax_type=(n.method||o).toLowerCase(),i=l(l({},i),q(e)),s(t,n).then(function(e){return i.ax_status=e.status,i.ax_duration=Date.now()-r,i.ax_response_header=a._getAllResponseHeaders(e),i.ax_request_header=a._getFetchHeaders(t,n),e.headers&&d(e.headers.has)&&e.headers.has("content-length")?i.ax_size=Number(e.headers.get("content-length"))||0:i.ax_size=0,d(a._callback)&&a._callback({name:a.name,type:"get",event:i}),e},function(e){return i.ax_status=0,i.ax_size=0,i.ax_duration=Date.now()-r,d(a._callback)&&a._callback({name:a.name,type:"get",event:i}),Promise.reject(e)})}},this._getFetchUrl=function(e){var t="";return t=f(t=e instanceof Request?e.url:e)?t.split("?")[0]:t},this._getFetchMethod=function(e){var t="get";return e instanceof Request&&(t=e.method),t},this._getFetchHeaders=function(e,t){var n="";if(e instanceof Request)return n=c._getAllResponseHeaders(e);if(t&&t.headers){if(t.headers instanceof Headers)return n=c._getAllResponseHeaders(t);if(t.headers instanceof Array)return n=I(t.headers);if(t.headers instanceof Object){var r=[];for(var i in t.headers)Object.prototype.hasOwnProperty.call(t.headers,i)&&r.push([i,t.headers[i]]);return n=I(r)}}return n},this._getAllResponseHeaders=function(e){if(!e||!e.headers||"function"!=typeof e.headers.forEach)return"";var n=[];return e.headers.forEach(function(e,t){n.push(t+": "+e)}),n.join("\r\n")}},ie=[],oe=function(){var t=this;this.name="StaticPerformanceMonitor",this.setup=function(e){s()&&(t._callback=e||function(){},H(function(){return t._sendPerformance()}))},this.getStaticPerformance=function(){return t._getPerformance()},this._getPerformance=function(){if(s()){var e=t._getParams();return{name:t.name,event:e}}},this._sendPerformance=function(){var e=t._getPerformance();d(t._callback)&&t._callback(e)},this._getParams=function(){return{resources:t._getResources()}},this._getResources=function(){return s()?window.performance.getEntriesByType("resource").filter(function(e){return!L(ie,e.initiatorType)}):[]}},ae=0,se=["ms","moz","webkit","o"];var ce={getRaf:function(){for(var e=window.requestAnimationFrame,t=0;t<se.length&&!e;++t)e=window[se[t]+"RequestAnimationFrame"];return e=e||function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-ae)),r=window.setTimeout(function(){e(t+n)},n);return ae=t+n,r}},getCaf:function(){for(var e=window.cancelAnimationFrame,t=0;t<se.length&&!e;++t)e=window[se[t]+"CancelAnimationFrame"]||window[se[t]+"CancelRequestAnimationFrame"];return e=e||function(e){clearTimeout(e)}}},ue=ce.getRaf(),le=ce.getCaf(),he=function(){var i=this;this.name="FirstScreenMonitor",this._callback=function(){},this._timerId=0,this._isFirstScreen=!1,this._firstScreenHeight=0,this._firstScreenImgs=[],this._isFindLastImg=!1,this._allImgLoaded=!1,this._firstScreenTime=0,this.setup=function(e){a()&&(i._callback=e||function(){},i._timerId=ue(i._step),i._isFirstScreen=!1,i._firstScreenHeight=(window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0)||0,i._firstScreenImgs=[],i._isFindLastImg=!1,i._allImgLoaded=!1,i._firstScreenTime=0)},this._step=function(){if(i._isFindLastImg){if(i._firstScreenImgs.length&&!i._allImgLoaded)for(var e=0;e<i._firstScreenImgs.length;e++){if(!(n=i._firstScreenImgs[e]).complete){i._allImgLoaded=!1;break}i._allImgLoaded=!0}else i._allImgLoaded=!0;if(i._allImgLoaded)return i._isFirstScreen||(i._isFirstScreen=!0,d(i._callback)&&(i._firstScreenTime=Date.now(),i._callback(i._getSendParams()))),void le(i._timerId)}else{var t=document.querySelectorAll("img");for(e=0;e<t.length;e++){var n,r=fe(n=t[e]);if(r>i._firstScreenHeight){i._isFindLastImg=!0;break}r<=i._firstScreenHeight&&!n.hasPushed&&(n.hasPushed=1,i._firstScreenImgs.push(n))}}i._timerId=ue(i._step)},this.getFirstScreenTime=function(){return le(i._timerId),i._getSendParams()},this._getSendParams=function(){return{name:"FirstScreenMonitor",event:{time:i._firstScreenTime}}}};function fe(e){if(!e)return 0;var t=e.offsetTop;return e.offsetParent&&(t+=fe(e.offsetParent)),t}function pe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function me(){}var de=function(){var c=this;this.name="FIDMonitor",this.setup=function(e){if(g()&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("first-input")&&S()){c._callback=e,c._observer=new PerformanceObserver(function(e,t){var n,r;try{for(var i=_(e.getEntries()),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.processingStart-a.startTime;c._callback({name:c.name,fid:Math.round(s)})}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.disconnect()});try{c._observer.observe({type:"first-input",buffered:!0})}catch(e){c._observer.observe({entryTypes:["first-input"]})}}}},_e=function(){var a=this;this.name="MPFIDMonitor",this._list=[],this.setup=function(){var t,e;if(y()&&S()){var n=window.Slardar&&window.Slardar.lt&&window.Slardar.lt.e;if(n&&0<n.length)try{for(var r=_(n),i=r.next();!i.done;i=r.next()){var o=i.value;"longtask"===o.entryType&&a._list.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}a._observer=new PerformanceObserver(function(e){var t,n;try{for(var r=_(e.getEntries()),i=r.next();!i.done;i=r.next()){var o=i.value;a._list.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}),a._observer.observe({entryTypes:["longtask"]})}},this._formatEvent=function(e){return{name:a.name,mpfid:e}},this.getMPFID=function(){var t,e;if(y()&&S()){a._observer&&a._observer.disconnect();var n=0;try{for(var r=_(a._list),i=r.next();!i.done;i=r.next()){var o=i.value;n<o.duration&&(n=o.duration)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return a._formatEvent(Math.round(n))}}},ve=(ge.prototype.getTTI=function(e){this._callback=e,y()&&w()&&S()?this._startSchedulingTimerTasks():this._callback&&"function"==typeof this._callback&&this._callback()},ge.prototype._startSchedulingTimerTasks=function(){pe("Enabling TTIDetector"),this._scheduleTimerTasks=!0;var e=0<this._longTasks.length?this._longTasks[this._longTasks.length-1].end:0,t=this._computeLastKnownNetwork2Busy(this._incompleteRequestStarts,this._networkRequests);this._rescheduleTimer(Math.max(t+5e3,e))},ge.prototype._registerListeners=function(){ye.patchXMLHTTPRequest(this._proxyConfig),ye.patchFetch(this._proxyConfig),this._registerPerformanceObserver(),this._useMutationObserver&&(this._mutationObserver=ye.observeResourceFetchingMutations(this._mutationObserverCallback.bind(this)))},ge.prototype._mutationObserverCallback=function(e){pe("Potentially network resource fetching mutation detected",e),pe("Pushing back TTI check by 5 seconds."),this._rescheduleTimer(performance.now()+5e3)},ge.prototype._beforeJSInitiatedRequestCallback=function(e){pe("Starting JS initiated request. Request ID: "+e),this._incompleteJSInitiatedRequestStartTimes[e]=performance.now(),pe("Active XHRs: "+Object.keys(this._incompleteJSInitiatedRequestStartTimes).length)},ge.prototype._afterJSInitiatedRequestCallback=function(e){pe("Completed JS initiated request with request ID: "+e),this._incompleteJSInitiatedRequestStartTimes[e]=void 0,pe("Active XHRs: "+Object.keys(this._incompleteJSInitiatedRequestStartTimes).length)},ge.prototype._registerPerformanceObserver=function(){var s=this;this._performanceObserver=new PerformanceObserver(function(e){var t,n,r=e.getEntries();try{for(var i=_(r),o=i.next();!o.done;o=i.next()){var a=o.value;"resource"===a.entryType&&s._networkRequestFinishedCallback(a),"longtask"===a.entryType&&s._longTaskFinishedCallback(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}});try{this._performanceObserver.observe({type:"longtask"}),this._performanceObserver.observe({type:"resource",buffered:!0})}catch(e){this._performanceObserver.observe({entryTypes:["longtask","resource"]})}},ge.prototype._networkRequestFinishedCallback=function(e){pe("Network request finished",e),this._networkRequests.push({start:e.fetchStart,end:e.responseEnd}),this._rescheduleTimer(this._computeLastKnownNetwork2Busy(this._incompleteRequestStarts,this._networkRequests)+5e3)},Object.defineProperty(ge.prototype,"_incompleteRequestStarts",{get:function(){for(var e=Object.keys(this._incompleteJSInitiatedRequestStartTimes),t=[],n=0;n<e.length;n++){var r=this._incompleteJSInitiatedRequestStartTimes[e[n]];"number"==typeof r&&t.push(r)}return t},enumerable:!0,configurable:!0}),ge.prototype._longTaskFinishedCallback=function(e){pe("Long task finished",e);var t=e.startTime+e.duration;this._longTasks.push({start:e.startTime,end:t}),this._rescheduleTimer(t+5e3)},ge.prototype._rescheduleTimer=function(e){var t=this;this._scheduleTimerTasks?(pe("Attempting to reschedule TTI check to "+e),pe("Previous timer activation time: "+this._timerActivationTime),this._timerActivationTime>e?pe("Current activation time is greater than attempted reschedule time. No need to postpone."):(window.clearTimeout(this._timerId),this._timerId=window.setTimeout(function(){t._checkTTI()},e-performance.now()),this._timerActivationTime=e,pe("Rescheduled TTI check at "+e))):pe("startSchedulingTimerTasks must be called before calling rescheduleTimer")},ge.prototype._checkTTI=function(){pe("Checking if TTI was reached...");var e=this._computeLastKnownNetwork2Busy(this._incompleteRequestStarts,this._networkRequests),t=this._getFirstPaintTime()||performance.timing.domContentLoadedEventEnd-performance.timing.navigationStart,n=this._getMinValue(),r=performance.now();null===n&&(pe("No usable minimum value yet. Postponing check."),this._rescheduleTimer(Math.max(e+5e3,r+1e3))),pe("Parameter values:"),pe("lastKnownNetwork2Busy",e),pe("Search Start",t),pe("Min Value",n),pe("Last busy",e),pe("Current time",r),pe("Long tasks",this._longTasks),pe("Incomplete JS Request Start Times",this._incompleteRequestStarts),pe("Network requests",this._networkRequests);var i=this._computeTTI(t,n,e,r,this._longTasks);i?(this._callback&&"function"==typeof this._callback&&this._callback(Math.round(i)),this._disable()):(pe("Could not detect TTI. Retrying in 1 second."),this._rescheduleTimer(performance.now()+1e3))},ge.prototype._getMinValue=function(){if(this._minValue)return this._minValue;if(performance.timing.domContentLoadedEventEnd){var e=performance.timing;return e.domContentLoadedEventEnd-e.navigationStart}return null},ge.prototype._getFirstPaintTime=function(){if("PerformancePaintTiming"in window){var e=performance.getEntriesByType("paint")[0];return e?e.startTime:0}return 0},ge.prototype._disable=function(){pe("Disabling TTIDetector"),clearTimeout(this._timerId),this._scheduleTimerTasks=!1,this._unregisterListeners(),this._snippetObserver&&this._snippetObserver.disconnect(),this._snippetEntries&&this._snippetEntries.splice(0,this._snippetEntries.length)},ge.prototype._unregisterListeners=function(){this._performanceObserver&&this._performanceObserver.disconnect(),this._mutationObserver&&this._mutationObserver.disconnect(),ye.resetOriginals(),this._proxyConfig&&(this._proxyConfig.beforeCb=me,this._proxyConfig.afterCb=me)},ge.prototype._computeLastKnownNetwork2Busy=function(e,t){var n,r,i,o;if(2<e.length)return performance.now();var a=[];try{for(var s=_(t),c=s.next();!c.done;c=s.next()){var u=c.value;a.push({timestamp:u.start,type:"requestStart"}),a.push({timestamp:u.end,type:"requestEnd"})}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var l=_(e),h=l.next();!h.done;h=l.next()){var f=h.value;a.push({timestamp:f,type:"requestStart"})}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}a.sort(function(e,t){return e.timestamp-t.timestamp});for(var p=e.length,m=a.length-1;0<=m;m--){var d=a[m];switch(d.type){case"requestStart":p--;break;case"requestEnd":if(2<++p)return d.timestamp;break;default:throw Error("Internal Error: This should never happen")}}return 0},ge);function ge(e){var t,n;if(void 0===e&&(e={}),this.name="TTIMonitor",this._useMutationObserver=!0,this._longTasks=[],this._networkRequests=[],this._incompleteJSInitiatedRequestStartTimes={},this._timerActivationTime=-1/0,this._scheduleTimerTasks=!1,this._proxyConfig={beforeCb:this._beforeJSInitiatedRequestCallback.bind(this),afterCb:this._afterJSInitiatedRequestCallback.bind(this)},this.setup=function(){},this._computeTTI=function(e,t,n,r,i){if(r-n<5e3)return null;var o=0===i.length?e:i[i.length-1].end;return r-o<5e3?null:Math.max(o,t)},y()&&w()&&S()){if(this._useMutationObserver=!!e.useMutationObserver,this._minValue=e.minValue||null,this._snippetEntries=window.Slardar&&window.Slardar.lt&&window.Slardar.lt.e,this._snippetObserver=window.Slardar&&window.Slardar.lt&&window.Slardar.lt.o,this._snippetEntries&&0<this._snippetEntries.length)try{for(var r=_(this._snippetEntries),i=r.next();!i.done;i=r.next()){var o=i.value;"longtask"===o.entryType?this._longTasks.push({start:o.startTime,end:o.startTime+o.duration}):"resource"===o.entryType&&this._networkRequests.push({start:o.fetchStart,end:o.responseEnd})}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this._registerListeners()}}var ye={uniqueId:0,originals:{},proxies:{},patchXMLHTTPRequest:function(o){this.originals.send=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ye.uniqueId++;o.beforeCb(r);var i=this.onreadystatechange;return this.onreadystatechange=function(e){i&&i.call(t,e),4===t.readyState&&o.afterCb(r)},ye.originals.send.apply(this,e)},this.proxies.send=XMLHttpRequest.prototype.send},patchFetch:function(o){i()&&(this.originals.fetch=window.fetch,window.fetch=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return new Promise(function(t,n){var e,r=ye.uniqueId++;o.beforeCb(r),(e=ye.originals).fetch.apply(e,m(i)).then(function(e){o.afterCb(r),t(e)},function(e){o.afterCb(r,e),n(e)})})},this.proxies.fetch=window.fetch)},observeResourceFetchingMutations:function(a){if(u()){var s=["img","script","iframe","link","audio","video","source"],e=new MutationObserver(function(e){var t,n;try{for(var r=_(e),i=r.next();!i.done;i=r.next()){var o=i.value;"childList"===o.type&&c(o.addedNodes,s)?a(o):"attributes"===o.type&&s.includes(o.target.nodeName.toLowerCase())&&a(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}});return e.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),e}function c(e,t){var n,r;try{for(var i=_(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.includes(a.nodeName.toLowerCase())||a.children&&c(a.children,t))return 1}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},resetOriginals:function(){this.originals.send&&XMLHttpRequest.prototype.send===this.proxies.send&&(XMLHttpRequest.prototype.send=this.originals.send),this.originals.fetch&&fetch===this.proxies.fetch&&(window.fetch=this.originals.fetch)}},we=function(){var c=this;this.name="FMPMonitor",this.setup=function(e){if(a()){if(!u())return null;c._callback=d(e)?e:function(){},c._startTime=Date.now(),c._list=[],c._observer=new MutationObserver(c._count),d(c._observer.observe)&&c._observer.observe(document,{childList:!0,subtree:!0})}},this._count=function(){var e=Date.now()-c._startTime,t=document.querySelector("body");t?c._list.push({score:c._score(t,1,!1),time:e}):c._list.push({score:0,time:e})},this._score=function(e,t,n){var r=0,i=e.tagName;if("SCRIPT"!==i&&"STYLE"!==i&&"META"!==i&&"HEAD"!==i){var o=e.children?e.children.length:0;if(0<o)for(var a=e.children,s=o-1;0<=s;s--)r+=c._score(a[s],t+1,0<r);if(r<=0&&!n&&!(e.getBoundingClientRect&&e.getBoundingClientRect().top<window.innerHeight))return 0;r+=1+.5*t}return r},this._getFmp=function(){if(!c._observer)return 0;if(!c._list.length)return 0;d(c._observer.disconnect)&&c._observer.disconnect();for(var e={time:c._list[0].time,rate:0},t=1;t<c._list.length;t++)if(c._list[t].time>=c._list[t-1].time){var n=c._list[t].score-c._list[t-1].score;e.rate<n&&(e={time:c._list[t].time,rate:n})}return e.time},this._getTimeGap=function(){return c._startTime-performance.timing.navigationStart},this._formatEvent=function(e){return{name:c.name,type:"post",event:{ev_type:"fmp",fmp:e}}},this.getLoadFmp=function(){var e=c._getFmp(),t=e?c._getTimeGap()+e:0,n=c._formatEvent(t);return c._callback(n),n},this.getFmp=function(){var e=c._getFmp(),t=c._formatEvent(e);return c._callback(t),t},this._observer=null,this._startTime=Date.now(),this._list=[],this._callback=function(){}},Se={ev_type:"perf",dns:0,tcp:0,request:0,response:0,processing:0,blank:0,domready:0,load:0,firstscreen:0,has_resource:0,navigation:{},domparse:0,resource:0,ttfb:0,redirct:0,fmp:0},be=(ke.prototype.send=function(){this._perfLog()},ke);function ke(e){var a=this;this.name="PerformanceMonitor",this._sendParams=Se,this.hasLoaded=!1,this.setup=function(e){var t,n,r,i;p()&&(a._callback=e,!1!==(null===(i=null===(r=null===(n=null===(t=a._slardarInstance)||void 0===t?void 0:t.shared)||void 0===n?void 0:n.config)||void 0===r?void 0:r.commonParams)||void 0===i?void 0:i.performanceAuto)&&H(function(){a.hasLoaded=!0,a._perfLog()}),a._sendParams=Se,a._staticPerformanceMonitor=new oe,a._staticPerformanceMonitor.setup(),a._firstScreenMonitor=new he,a._firstScreenMonitor.setup(),(new de).setup(a._hasFID),a._mpfidMonitor=new _e,a._mpfidMonitor.setup(),a._ttiMonitor=new ve,a._ttiMonitor.setup(),a._fmpMonitor=new we,a._fmpMonitor.setup(),window.addEventListener("beforeunload",function(){a._perfLog(!0)}))},this._hasFID=function(e){a._sendParams.fid=e.fid},this._getParams=function(){if(p()){var e=Se,t=window.performance.timing;e.dns=t.domainLookupEnd-t.domainLookupStart,e.tcp=t.connectEnd-t.connectStart,e.request=t.responseStart-t.requestStart,e.response=t.responseEnd-t.responseStart,e.processing=t.domComplete-t.domLoading,e.blank=t.responseEnd-t.navigationStart,e.domready=t.domInteractive-t.navigationStart,e.load=t.loadEventEnd-t.navigationStart,t.secureConnectionStart&&(e.ssl=t.connectEnd-t.secureConnectionStart),e.domparse=t.domInteractive-t.responseEnd,e.resource=t.loadEventStart-t.domContentLoadedEventEnd,e.ttfb=t.responseStart-t.requestStart,e.redirct=t.redirectEnd-t.redirectStart;var n=a._getPaintTime("first-paint"),r=a._getPaintTime("first-contentful-paint");return n&&(e.fp=Math.round(n)),r&&(e.fcp=Math.round(r)),e.navigation=function(){if(!s())return window.performance.timing;var e=window.performance.getEntriesByType("navigation");return v(e)&&0!==e.length?e[0]:window.performance.timing}(),e.bounced=!a.hasLoaded,e}},this._getPaintTime=function(t){if(s()){var e=performance.getEntriesByType("paint");if(v(e)){var n=e.filter(function(e){return e.name===t});return n.length&&n[0]&&h(n[0])&&n[0].startTime||0}}return 0},this._perfLog=function(e){if(void 0===e&&(e=!1),p()){if(a._sendParams=l(l({},a._sendParams),a._getParams()),a._staticPerformanceMonitor&&d(a._staticPerformanceMonitor.getStaticPerformance)){var t=a._staticPerformanceMonitor.getStaticPerformance();t&&t.event&&t.event.resources&&(a._sendParams.resources=t.event.resources||[],a._sendParams.has_resource=1)}if(a._firstScreenMonitor&&d(a._firstScreenMonitor.getFirstScreenTime)){var n=a._firstScreenMonitor.getFirstScreenTime();p()||(a._sendParams.firstscreen=0),a._sendParams.firstscreen=performance.timing.domInteractive-performance.timing.navigationStart,n&&n.event&&n.event.time&&(a._sendParams.firstscreen=n.event.time-window.performance.timing.navigationStart)}if(a._fmpMonitor&&d(a._fmpMonitor.getLoadFmp)){var r=a._fmpMonitor.getLoadFmp()||{};a._sendParams.fmp=r.event&&r.event.fmp||0}if(a._mpfidMonitor&&d(a._mpfidMonitor.getMPFID)){var i=a._mpfidMonitor.getMPFID();i&&(a._sendParams.mpfid=i.mpfid)}var o={};a._slardarInstance&&a._slardarInstance.shared&&a._slardarInstance.shared.performanceUserTiming&&(o=a._slardarInstance.shared.performanceUserTiming.getUserTiming()||{}),a._sendParams=l(l({},a._sendParams),o),d(a._callback)&&(!e&&a._ttiMonitor&&d(a._ttiMonitor.getTTI)?a._ttiMonitor.getTTI(a._ttiCallback):a._callback({name:a.name,type:"post",event:a._sendParams}))}},this._ttiCallback=function(e){e&&0<e&&(a._sendParams.tti=e),a._callback({name:a.name,type:"post",event:a._sendParams})},e&&e.slardarInstance&&(this._slardarInstance=e.slardarInstance)}var Me=function(){var o=this;this.name="PathMonitor",this.setup=function(e){a()&&(o._callback=e,o._start())},this._start=function(){o._monitorHashChange(),a()&&h(window.history)&&d(window.history.pushState)&&d(window.history.replaceState)&&(o._monitorPushState(),o._monitorReplaceState())},this._monitorHashChange=function(){window.addEventListener("hashchange",function(){var e=o._parseHash(location.hash);e&&o._pathChangeHandler(o._getPath(e),"hash")})},this._monitorPushState=function(){var n=o,r=window.history.pushState;r&&(window.history.pushState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n._handleHistoryStateChange.apply(n,m(e)),r.apply(this,e)})},this._monitorReplaceState=function(){var n=o,r=window.history.replaceState;r&&(window.history.replaceState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n._handleHistoryStateChange.apply(n,m(e)),r.apply(this,e)})},this._pathChangeHandler=function(e,t){f(e)&&d(o._callback)&&o._callback({name:o.name,type:"get",event:{ev_type:"pageview",path:e,type:t}})},this._handleHistoryStateChange=function(e,t,n){var r=o._parseURL(n),i=o._parseURL(location.href);r&&i&&(r.pathname===i.pathname?r.hash===i.hash||o._pathChangeHandler(o._getPath(i.hash),"hash"):o._pathChangeHandler(o._getPath(r.pathname),"pathname"))},this._parseURL=function(e){if(!e)return null;if("string"!=typeof e)return null;if(e.match(/^\/[^\/]/))return new URL(location.protocol+"//"+location.host+e);try{return new URL(e)}catch(e){return null}},this._parseHash=function(e){return e?"string"!=typeof e?"":e.replace(/^#/,""):""},this._getPath=function(e){var t=e&&"string"==typeof e?e.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):"";return t=o._parseHash(t)}},Te=j(["bytecdn.cn","pstatp.com","snssdk.com","toutiao.com","365yg.com","byted.org"]),Ee=(Le.prototype._sendHijackEvent=function(){d(this._callback)&&this._callback({name:this.name,type:"post",event:{ev_type:"hijack",events:this._events}})},Le);function Le(){var c=this;this.name="HijackMonitor",this.setup=function(e){a()&&(c._callback=e,c._start())},this._start=function(){H(function(){setTimeout(function(){c._antiHijack()},2e3)})},this._antiHijack=function(){c._checkScripts(),c._checkIframe(),c._sendHijackEvent()},this._checkScripts=function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){var n=e[t],r=C(n.src);n.src?c._inWhiteListDomain(r.hostname)||c._events.push({hijack_type:"script",hijack_host:r.host,hijack_content:n.src}):c._inWhiteListContent(n.innerHTML)||c._events.push({hijack_type:"script",hijack_host:"unknown",hijack_content:n.innerHTML})}},this._checkIframe=function(){for(var e=document.getElementsByTagName("iframe"),t=0,n=e.length;t<n;t++){var r=e[t],i=r.src,o="about:blank";if(i&&i!==o){var a=C(i);0===a.protocol.indexOf("http")&&a.hostname&&c._inWhiteListIframeDomain(a.hostname)&&c._events.push({hijack_type:"iframe",hijack_host:a.host,hijack_content:i})}else if(i===o){var s="";try{r.contentDocument&&r.contentDocument.body&&r.contentDocument.body.innerHTML&&(s=r.contentDocument.body.innerHTML)}catch(e){s="Access is denied"}s&&c._events.push({hijack_type:"iframe",hijack_host:o,hijack_content:s})}}},this._inWhiteListDomain=function(e){return!(!Te||!Te.test(e))},this._inWhiteListContent=function(e){return!1},this._inWhiteListIframeDomain=function(e){return c._inWhiteListDomain(e)},this._events=[]}var Pe=(Ce.prototype._report=function(e,t){d(this._callback)&&this._callback({name:this.name,type:"post",event:{ev_type:"memoryrise",memory:{jsHeapSizeLimit:t.jsHeapSizeLimit,totalJSHeapSize:t.totalJSHeapSize,usedJSHeapSize:t.usedJSHeapSize,preJSHeapUsed:e,time:Date.now()}}})},Ce.prototype._start=function(){var e=window.performance.memory,t=this._baseUseJSHeapSize;e.usedJSHeapSize>t*this._risePercent?(this._report(t,e),this._baseUseJSHeapSize=e.usedJSHeapSize):t>e.usedJSHeapSize&&(this._baseUseJSHeapSize=e.usedJSHeapSize)},Ce);function Ce(e){var t,n,r=this;this.name="MemoryRiseMonitor",this._baseUseJSHeapSize=0,this.setup=function(e){o()&&window.performance.memory&&(r._callback=e,r._baseUseJSHeapSize=window.performance.memory.usedJSHeapSize,r._executor=setInterval(function(){r._start()},r._timeout))},this._timeout=null!=(t=null===e||void 0===e?void 0:e.interval)?t:1e3,this._risePercent=null!=(n=null===e||void 0===e?void 0:e.risePercent)?n:1.05}var xe=window.performance,Re=Date.now?Date.now():+new Date,He="slardar_performance_start",Ie=(qe.prototype._filterSlardarList=function(e){var t=[];if(e&&v(e))for(var n=0,r=e.length;n<r;n++){var i=e[n],o=i.name;L(this._slardarList,o)&&(this._whiteList.length&&L(this._whiteList,o)||!this._whiteList.length)&&t.push(i)}return t},qe.prototype._getAllMarks=function(){var e=this._markList;return xe&&xe.getEntriesByType&&(e=xe.getEntriesByType("mark")),e=this._filterSlardarList(e)},qe.prototype._getMarkFromSlardarMarks=function(e){return this._getMarkByName(e,this._getAllMarks())},qe.prototype._getMarkByName=function(e,t){if(t)for(var n=t.length-1;0<=n;n--){var r=t[n];if(e===r.name)return r}},qe.prototype._getAllMeasures=function(){var e=this._measureList;return xe&&xe.getEntriesByType&&(e=xe.getEntriesByType("measure")),e=this._filterSlardarList(e)},qe.prototype._performanceNow=function(){return xe&&xe.now?xe.now():(Date.now?Date.now():+new Date)-(xe.timing&&xe.timing.navigationStart?xe.timing.navigationStart:Re)},qe.prototype.mark=function(e){if(this._slardarList.push(e),xe&&xe.mark)return xe.mark(e);this._markList.push({name:e,entryType:"mark",startTime:this._performanceNow(),duration:0})},qe.prototype.measure=function(e,t,n){if(this._slardarList.push(e),void 0===t&&this._getMarkFromSlardarMarks(He)&&(t=He),xe&&xe.measure)return t?n?xe.measure(e,t,n):xe.measure(e,t):xe.measure(e);var r=0,i=this._performanceNow();if(t){var o=this._getMarkFromSlardarMarks(t);if(o)r=o.startTime;else{if(!(xe&&xe.timing&&xe.timing[t]))return;r=xe.timing[t]-xe.timing.navigationStart}}if(n){var a=this._getMarkFromSlardarMarks(n);if(a)i=a.startTime;else{if(!(xe&&xe.timing&&xe.timing[n]))return;i=xe.timing[n]-xe.timing.navigationStart}}this._measureList.push({name:e,entryType:"measure",startTime:r,duration:i-r})},qe.prototype.clearMarks=function(e){if(xe&&xe.clearMarks)return xe.clearMarks(e);if(e)for(var t=this._markList.length-1;0<=t;t--)e===this._markList[t].name&&this._markList.splice(t,1);else this._markList=[]},qe.prototype.clearMeasures=function(e){if(xe&&xe.clearMeasures)return xe.clearMeasures(e);if(e)for(var t=this._measureList.length-1;0<=t;t--)e===this._measureList[t].name&&this._measureList.splice(t,1);else this._measureList=[]},qe.prototype.clear=function(){this.clearMarks(),this.clearMeasures(),this._markList=[],this._measureList=[],this._slardarList=[]},qe.prototype.getUserTiming=function(){var e={},t=this._getAllMarks();if(t)for(var n=0,r=t.length;n<r;n++){var i=t[n],o=i.name,a=Math.round(i.startTime);void 0===e[o]?e[o]=a:e[o]=Math.max(a,e[o])}var s=this._getAllMeasures();if(s){n=0;for(var c=s.length;n<c;n++){var u=s[n],l=u.name,h=Math.round(u.duration);void 0===e[l]?e[l]=h:e[l]=Math.max(h,e[l])}}return e},qe);function qe(e){this._markList=[],this._measureList=[],this._whiteList=[],this._slardarList=[],e&&e.whiteList&&v(e.whiteList)&&(this._whiteList=e.whiteList)}var je=Object.prototype.hasOwnProperty,Oe="~";function Ae(){}function Fe(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function De(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new Fe(n,r||e,i),a=Oe?Oe+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function Ue(e,t){0==--e._eventsCount?e._events=new Ae:delete e._events[t]}function Je(){this._events=new Ae,this._eventsCount=0}Object.create&&(Ae.prototype=Object.create(null),(new Ae).__proto__||(Oe=!1)),Je.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)je.call(e,t)&&n.push(Oe?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},Je.prototype.listeners=function(e){var t=Oe?Oe+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,o=new Array(i);r<i;r++)o[r]=n[r].fn;return o},Je.prototype.listenerCount=function(e){var t=Oe?Oe+e:e,n=this._events[t];return n?n.fn?1:n.length:0},Je.prototype.emit=function(e,t,n,r,i,o){var a=Oe?Oe+e:e;if(!this._events[a])return!1;var s,c,u=this._events[a],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,i),!0;case 6:return u.fn.call(u.context,t,n,r,i,o),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,r);break;default:if(!s)for(h=1,s=new Array(l-1);h<l;h++)s[h-1]=arguments[h];u[c].fn.apply(u[c].context,s)}}return!0},Je.prototype.on=function(e,t,n){return De(this,e,t,n,!1)},Je.prototype.once=function(e,t,n){return De(this,e,t,n,!0)},Je.prototype.removeListener=function(e,t,n,r){var i=Oe?Oe+e:e;if(!this._events[i])return this;if(!t)return Ue(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||Ue(this,i);else{for(var a=0,s=[],c=o.length;a<c;a++)(o[a].fn!==t||r&&!o[a].once||n&&o[a].context!==n)&&s.push(o[a]);s.length?this._events[i]=1===s.length?s[0]:s:Ue(this,i)}return this},Je.prototype.removeAllListeners=function(e){var t;return e?(t=Oe?Oe+e:e,this._events[t]&&Ue(this,t)):(this._events=new Ae,this._eventsCount=0),this},Je.prototype.off=Je.prototype.removeListener,Je.prototype.addListener=Je.prototype.on,Je.prefixed=Oe;var ze=new(Je.EventEmitter=Je);function Ne(e){if(e&&f(e)&&a()&&h(document)&&d(document.createElement)){var t=document.createElement("script"),n=document.head;h(t)&&h(n)&&(t.src=e,t.async=!0,t.crossorigin="anonymous",d(n.appendChild)&&n.appendChild(t))}}var Be="https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/slardar/plugins/sentry.2.1.17.71e8145f.js",Xe="https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/slardar/plugins/behavior.2.1.17.ba349dc6.js",We=function(){var e,t,p=this;this.version="2.1.23",this._setBaseParams=function(){p.baseParams.bid=p.shared.config.commonParams.bid||"",p.baseParams.pid=p.shared.config.commonParams.pid||""},this.instance=function(){for(var e,t,n,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=i[0],s=i.slice(1);if("config"!==a){if(p._client)if("send"!==a)if("sendCustomCountLog"!==a)if("sendCustomTimeLog"!==a)if("precollect"!==a)if("Sentry"!==a)if("emit"!==a){if("performanceMark"===a&&(n=p._performanceUserTiming).mark.apply(n,m(s)),"performanceMeasure"===a&&(r=p._performanceUserTiming).measure.apply(r,m(s)),"performanceSend"===a){if(!p._performanceInitFlag)return;p.shared.monitors&&p.shared.monitors.PerformanceMonitor&&(p.shared.monitors.PerformanceMonitor.send(),p._performanceInitFlag=!1)}"performanceInit"===a&&(p._performanceUserTiming.clear(),p._performanceInitFlag=!0)}else{if(!i[1]||!i[2])return;var c={type:i[1],event:i[2]};p._client.emitEvent(c)}else{var u=i[1];d(u)&&(p.shared.plugins&&p.shared.plugins.sentry?u(p.shared.plugins.sentry):p.shared.collect&&p.shared.collect.Sentry.push(s[0]))}else{if(p.shared.instance&&!p.shared.instance.length)return;if("error"!==i[1])return;if(!i[2]||!i[2][0])return;var l=i[2][0]||{};"error"===l.type&&(p.shared.monitors&&p.shared.monitors.StaticErrorMonitor&&d(p.shared.monitors.StaticErrorMonitor.staticErrorLog)&&p.shared.monitors.StaticErrorMonitor.staticErrorLog(l),p._collectSentryEvent(l))}else(t=p._client).sendCustomTimeLog.apply(t,m(s));else(e=p._client).sendCustomCountLog.apply(e,m(s));else p._send(s)}else{var h=i[1];p._configSetting=h,p._configSetting&&p._configSetting.onlyUseLocalSetting&&(p._serverSetting={});var f=p._normalizeSetting(h);p._client?p._client.updateConfig(f):p._init(f)}},this._collectSentryEvent=function(t){p.shared.plugins&&!p.shared.plugins.sentry&&(t.error?p.instance("Sentry",function(e){e.captureException(t.error)}):t.message&&p.instance("Sentry",function(e){e.captureMessage(t.message)}))},this._init=function(e){p.shared.monitors={StaticErrorMonitor:new Z,PerformanceMonitor:new be({slardarInstance:p.instance}),PathMonitor:new Me,HijackMonitor:new Ee,AjaxMonitor:new ee,FetchMonitor:new re,MemoryRiseMonitor:new Pe};var t=[p.shared.monitors.StaticErrorMonitor,p.shared.monitors.PerformanceMonitor,p.shared.monitors.PathMonitor,p.shared.monitors.HijackMonitor,p.shared.monitors.AjaxMonitor,p.shared.monitors.FetchMonitor,p.shared.monitors.MemoryRiseMonitor],n=l(l({},e),{defaultMonitors:t});p._client=new G(n),p.shared.instance&&v(p.shared.instance)&&p.shared.instance.push(n.commonParams.bid),p._getServerSetting(n.commonParams.bid),p._handlePrecollect()},this._handlePrecollect=function(){d(window.removeEventListener)&&window.Slardar&&window.Slardar.globalPreCollectError&&d(window.Slardar.globalPreCollectError)&&window.removeEventListener("error",window.Slardar.globalPreCollectError,!0),d(window.addEventListener)&&window.addEventListener("error",function(e){p._collectSentryEvent(e)})},this._send=function(e){if("count"===e[0]){var t=e[1],n=t.category,r=t.action;p._client.sendCustomCountLog(n,r)}if("timing"===e[0]){var i=e[1],o=(n=i.category,r=i.action,i.value);p._client.sendCustomTimeLog(n,r,o)}},this._getServerSetting=function(e){var t=p._serverSetting;if(t){var n=p._normalizeSetting(t);p._initServerSetting(n)}else{var r="https://"+(p._baseClientConfig.commonParams.report_domain||F)+"/slardar/sdk_setting?bid="+e;z.get(r,{success:function(e){try{var t=p._normalizeSetting(e.data);p._initServerSetting(t)}catch(e){p._initServerSetting(p._baseClientConfig)}},fail:function(){p._initServerSetting(p._baseClientConfig)}})}},this._initServerSetting=function(e){var t=p._normalizeSetting(e);p._client.updateConfig(t),Math.random()<t.commonParams.sample_rate&&(p._client.setupTransport(),p._client.sendPageview(),p.shared.transport=p._client._transport,p.shared.sendEvent=p._client.sendEvent),p._setCookie(t.commonParams.slardar_web_id),p.shared&&"script"===p.shared.installedType&&p._loadPlugins(e),p.shared&&p.shared.emitter&&p.shared.emitter.emit&&d(p.shared.emitter.emit)&&"npm"===p.shared.installedType&&p.shared.emitter.emit("pluginsReady",t)},this._loadPlugins=function(e){var t=e.plugins;t.sentry&&t.sentry.enable&&Ne(t.sentry.download_link||Be),(t.behavior&&t.behavior.enable||t.sentry&&t.sentry.enable&&t.sentry.behavior_enable)&&Ne(t.behavior.download_link||Xe)},this._setCookie=function(e){e&&(document.cookie=D+"="+e+";max-age=7776000;domain="+location.hostname+";path=/")},this._getSlardarWebId=function(){var e="";return document&&document.cookie&&(e=function(e,t){var n,r;if(!e||!t)return"";var i=e.split(";"),o={};try{for(var a=_(i),s=a.next();!s.done;s=a.next()){var c=s.value.split("="),u=f(c[0])&&c[0].trim();u&&f(c[1])&&(o[u]=c[1].trim())}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o[t]||""}(document.cookie,D)),e},this._normalizeSetting=function(e){void 0===e&&(e=p._baseClientConfig);var t=p._getClientCommonParams(e),n=p._getClientMonitorsSetting(e),r=p._getClientPluginsSetting(e),i=p._getClientCustom(e),o=T(p._baseClientConfig,{commonParams:t,plugins:r,monitors:n,custom:i},{commonParams:e.commonParams||{},plugins:e.plugins||{},monitors:e.monitors||{},custom:e.custom||{}},{commonParams:p._getClientCommonParams(p._configSetting),plugins:p._getClientPluginsSetting(p._configSetting),monitors:p._getClientMonitorsSetting(p._configSetting),custom:p._getClientCustom(p._configSetting)});return p.shared.config=o,p._setBaseParams(),p._baseClientConfig=o},this._getClientCommonParams=function(e){var n={},r=["bid","context","pid","sample_rate","slardar_session_id","slardar_web_id","performanceAuto"];return M(e,function(e,t){L(r,e)&&(n[e]=t)}),e.cookieid&&(n.slardar_web_id=e.cookieid),k(e,"sampleRate")&&(n.sample_rate=e.sampleRate),e.reportDomain&&(n.report_domain=e.reportDomain),e.domain&&(n.report_domain=e.domain),n.slardar_web_id&&(n.slardar_web_id=n.slardar_web_id.toString()),n},this._getClientCustom=function(e){var t={};return d(e.beforeSend)&&(t.beforeSend=e.beforeSend),t},this._getClientMonitorsSetting=function(e){var t=l(l({},p._baseClientConfig.monitors),e.monitors||{});return e.ajaxWhitelistUrls&&(t.AjaxMonitor=l(l({},t.AjaxMonitor),{whitelistUrls:t.AjaxMonitor.whitelistUrls.concat(v(e.ajaxWhitelistUrls)?e.ajaxWhitelistUrls:[])})),e.ignoreAjax&&(t.AjaxMonitor=l(l({},t.AjaxMonitor),{ignore:t.AjaxMonitor.ignore.concat(v(e.ignoreAjax)?e.ignoreAjax:[])})),k(e,"hookFetch")&&(t.AjaxMonitor=l(l({},t.AjaxMonitor),{hookFetch:e.hookFetch})),k(e,"enableSizeStats")&&(t.AjaxMonitor=l(l({},t.AjaxMonitor),{hookFetch:e.hookFetch})),k(e,"geckoUrls")&&(t.PerformanceMonitor=l(l({},t.PerformanceMonitor||{}),{geckoUrls:e.geckoUrls})),e.ignoreStatic&&(t.StaticErrorMonitor=l(l({},t.StaticErrorMonitor),{ignore:t.StaticErrorMonitor.ignore.concat(v(e.ignoreStatic)?e.ignoreStatic:[])})),t},this._getClientPluginsSetting=function(e){return e.plugins||{}},this._baseClientConfig={defaultMonitors:[],commonParams:{version:this.version,hostname:window.location.hostname,protocol:window.location.protocol.slice(0,-1),url:window.location.href,slardar_session_id:U,sample_rate:1,pid:location.pathname,report_domain:F,screen_resolution:a()&&window.screen&&window.screen.width&&window.screen.height?window.screen.width+"x"+window.screen.height:"0x0",network_type:(e="unknown",(t=navigator.connection||navigator.mozConnection||navigator.webkitConnection)&&f(t.effectiveType)?t.effectiveType:e),bid:"",context:{},slardar_web_id:this._getSlardarWebId()||J,performanceAuto:!0},monitors:{AjaxMonitor:{ignore:A,hookFetch:!0,enableSizeStats:!1,abort:!1,whitelistUrls:[]},StaticErrorMonitor:{ignore:A},PerformanceMonitor:{resourceSampleRate:.1,slowSessionTime:8e3,geckoUrls:[],interval:0,checkPoint:[]},HijackMonitor:{sampleRate:.1}},plugins:{spa:{enable:0,type:""},behavior:{enable:0,slardar_web_ids:[],sample_rate:0,patterns:[],download_link:Xe},sentry:{enable:0,behavior_enable:!1,behavior_sample_rate:0,behavior_slardar_web_ids:[],download_link:Be,tags:{}}},custom:{beforeSend:function(e){return e}}},this._performanceUserTiming=new Ie({whiteList:["fmp"]}),this._performanceInitFlag=!0,this._client=void 0,this._configSetting={},this.shared={config:this._baseClientConfig,transport:this._client?this._client._transport:void 0,emitter:ze,instance:[],collect:{Sentry:[],staticError:[]},plugins:{},monitors:{},sendEvent:void 0,performanceUserTiming:this._performanceUserTiming},this.baseParams={bid:this.shared.config.commonParams.bid||"",pid:this.shared.config.commonParams.pid||""},this._serverSetting={"cookieid":"92be79d6-cf41-4690-8f41-2c51e050ea47","reportDomain":"mon-va.byteoversea.com","bid":"tiktok_web","plugins":{"spa":{"enable":0},"behavior":{"enable":0,"slardar_web_ids":[],"sample_rate":0,"download_link":"https://sf16-muse-va.ibytedtos.com/obj/ttfe-maliva/slardar/plugins/behavior.2.1.17.ba349dc6.js"},"sentry":{"enable":1,"download_link":"https://sf16-muse-va.ibytedtos.com/obj/ttfe-maliva/slardar/plugins/sentry.2.1.17.71e8145f.js","behavior_enable":false,"behavior_sample_rate":0,"behavior_slardar_web_ids":[]}}}},Ve=x;if(a()){var Ke=new We;(Ve=Ke.instance).version=Ke.version,Ve.shared=Ke.shared,Ve.SlardarBrowser=We,Ve._baseParams=Ke.baseParams,window.Slardar&&window.Slardar.shared&&window.Slardar.shared.instance&&window.Slardar.shared.instance.length?Ve=window.Slardar:(window.Slardar&&window.Slardar.q&&(Ve.q=window.Slardar.q),window.Slardar&&window.Slardar.globalPreCollectError&&(Ve.globalPreCollectError=window.Slardar.globalPreCollectError),window.Slardar&&window.Slardar.i&&(Ve.i=window.Slardar.i),window.Slardar&&window.Slardar.lt&&(Ve.lt=window.Slardar.lt),window.Slardar=Ve)}var Qe=Ve;if(Qe.shared&&(Qe.shared.installedType="script"),window.Slardar&&window.Slardar.q){var Ge=window.Slardar.q;v(Ge)&&Ge.forEach(function(e){Qe.apply(void 0,m(e))}),delete window.Slardar.q}if(window.Slardar&&window.Slardar.i){var $e=window.Slardar.i;v($e)&&$e.forEach(function(e){var t=Ye();if(e.q){var n=e.q;v(n)&&n.forEach(function(e){t.apply(void 0,m(e))}),delete e.q}e.i=t}),delete window.Slardar.i}function Ye(){var e=new We,t=e.instance;return t.version=e.version,t.shared=e.shared,t}return window.Slardar=Qe,window.Slardar.SlardarBrowser=We,window.Slardar.createInstance=Ye,Qe}();
